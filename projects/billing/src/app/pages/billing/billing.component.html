<div [fxShow]="!State.Loading">

  <div class="billing-page-container" fxLayout="row-wrap" fxLayoutAlign="space-around center">

    <!-- PRICING CONTAINER -->
    <div class='pricing-container' fxFlex="45%" fxFlex.lt-sm="20%" fxLayoutAlign="center center">
      <lcu-plan-card [plan]="SelectedPlan"></lcu-plan-card>
    </div>

    <!-- BILLING CONTAINER -->
    <div class='billing-container' fxFlex="45%" fxFlex.lt-sm="80%">
      <h2>Enter Your Payment Information Below</h2>


      <div class="payment-info-container">
        <form action="/charge" method="post" class="billing-form" id="payment-form" [formGroup]="BillingForm"
          (ngSubmit)="SubmitBilling($event)">
          <div class="form-row" fxLayout="column" fxLayoutAlign="space-around center">
            <div class="billing-info">
              <label fxLayout="column" fxLayoutAlign="space-around center">
                <span id="input-span">Name</span>
                <input name="cardholder-name" class="cardholder-name-input" id="cardholder-name-input"
                  formControlName="userName" placeholder="Cardholder Name" />
              </label>
            </div>
            <div class="billing-info">
              <label for="card-element" fxLayout="column" fxLayoutAlign="space-around center">Payment Details</label>

              <div class="stripe-container">
                <div id="card-element" class="stripe-card"></div>
                <!-- <label for="card-number" fxLayout="column" fxLayoutAlign="space-around center">Card Number</label>
                <div id="card-number"class="stripe-card"></div>
                <label for="card-expiry" fxLayout="column" fxLayoutAlign="space-around center">Expiration Date</label>

                <div id="card-expiry"class="stripe-card"></div>
                <label for="card-cvc" fxLayout="column" fxLayoutAlign="space-around center">CVC</label>

                <div id="card-cvc"class="stripe-card"></div> -->

              </div>
              <div id="card-errors" role="alert" class="spread" *ngIf="StripeError">
                {{ StripeError }}
              </div>
            </div>
          </div>

          <div class="spread" fxLayoutAlign="center">
            <button mat-raised-button id="payment-button" color="primary" *ngIf="SelectedPlan">
              Add payment
            </button>
          </div>
        </form>
      </div>

    </div>
  </div>
</div>
<div [fxShow]="State.Loading">
  <p style="text-align: center;">
    Behind the scenes Thinky is working hard to set up your Low Code Unit
  </p>

  <div fxLayout="row" fxLayoutAlign="center center" class="spinner-container">
    <mat-spinner diameter="75"></mat-spinner>
    <div class="spinner-logo" logo-alt="Fathym Logo"></div>
  </div>
</div>

<!-- <div *ngIf="PaymentSuccessful && !State.Loading">
  Successfully completed billing
  <div (click)="ResetBillingStatus()">Manage Billing</div>
</div> -->