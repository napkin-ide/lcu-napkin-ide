<form *ngIf="State.Step == SetupStepTypes['AzureSetup']" [formGroup]="InfraForm">
        <div class="spread">
            <h1 
            fxLayoutAlign="center center" 
            class="mat-display-1 title margin-bottom-4">
            Microsoft Azure Subscription Setup
          </h1>
          
          <div>
            <mat-form-field class="mat-full-width">
              <div fxLayout="row" fxLayoutGap="10px">
                <mat-icon *ngIf="OrgInfraAzureTenatId.value.length > 0 && !OrgInfraAzureTenatId.hasError('pattern')" class="success">check_circle</mat-icon>
                <input 
                  formControlName="azureTenantId" 
                  matInput placeholder="Azure Tenant (Directory) ID" 
                  [type]="HideTenantId ? 'password' : 'text'" 
                  required autocomplete="new-password">
              </div>
                 <mat-error *ngIf="OrgInfraAzureTenatId.hasError('pattern')">
                    {{ GuidErrorMessage }}
                </mat-error>
                <mat-icon 
                  matBadge="{{OrgInfraAzureTenatId.value.length}}" 
                  matBadgePosition="below after" 
                  matBadgeColor="primary"
                  matBadgeOverlap="false"
                  color="warn" 
                  matSuffix 
                  (click)="HideTenantId = !HideTenantId" class="cursor-pointer">{{HideTenantId ? 'visibility_off' : 'visibility'}}
                </mat-icon>
              <mat-hint>Guid Value</mat-hint>
            </mat-form-field>

            <mat-form-field class="mat-full-width margin-top-4">
              <div fxLayout="row" fxLayoutGap="10px">
                  <mat-icon *ngIf="OrgInfraAzureSubId.value.length > 0 && !OrgInfraAzureSubId.hasError('pattern')" class="success">check_circle</mat-icon>
                  <input 
                    formControlName="azureSubId" 
                    matInput placeholder="Azure Subscription ID" 
                    [type]="HideSubId ? 'password' : 'text'" 
                    required autocomplete="new-password">
                </div>
                <mat-error *ngIf="OrgInfraAzureSubId.hasError('pattern')">
                    {{ GuidErrorMessage }}
                </mat-error>
              <mat-icon 
                matBadge="{{OrgInfraAzureSubId.value.length}}" 
                matBadgePosition="below after" 
                matBadgeColor="primary"
                matBadgeOverlap="false"
                color="warn" 
                matSuffix 
                (click)="HideSubId = !HideSubId" class="cursor-pointer">{{HideSubId ? 'visibility_off' : 'visibility'}}
              </mat-icon>
              <mat-hint>Guid Value</mat-hint>
            </mat-form-field>

            <mat-form-field class="mat-full-width margin-top-4">
              <div fxLayout="row" fxLayoutGap="10px">
                  <mat-icon *ngIf="OrgInfraAzureAppAppId.value.length > 0 && !OrgInfraAzureAppAppId.hasError('pattern')" class="success">check_circle</mat-icon>
                <input 
                  formControlName="azureAppId" 
                  matInput placeholder="Azure App ID" 
                  [type]="HideAppId ? 'password' : 'text'" 
                  required autocomplete="new-password">
                </div>
                <mat-error *ngIf="OrgInfraAzureAppAppId.hasError('pattern')">
                    {{ GuidErrorMessage }}
                </mat-error>
              <mat-icon 
                matBadge="{{OrgInfraAzureAppAppId.value.length}}" 
                matBadgePosition="below after" 
                matBadgeColor="primary"
                matBadgeOverlap="false"
                color="warn" 
                matSuffix 
                (click)="HideAppId = !HideAppId" class="cursor-pointer">{{HideAppId ? 'visibility_off' : 'visibility'}}
              </mat-icon>
              <mat-hint>Guid Value</mat-hint>
            </mat-form-field>

            <mat-form-field class="mat-full-width margin-top-4">
              <div fxLayout="row" fxLayoutGap="10px">
                  <mat-icon *ngIf="OrgInfraAzureAppAuthKey.value.length > 0 && !OrgInfraAzureAppAuthKey.hasError('required')" class="success">check_circle</mat-icon>
                <input 
                  formControlName="azureAppAuthKey" 
                  matInput placeholder="Azure App Auth key" 
                  [type]="HideAuthKey ? 'password' : 'text'" 
                  required autocomplete="new-password">
                </div>
                <mat-error *ngIf="OrgInfraAzureAppAuthKey.hasError">
                    Value is required
                </mat-error>
              <mat-icon 
                matBadge="{{OrgInfraAzureAppAuthKey.value.length}}" 
                matBadgePosition="below after" 
                matBadgeColor="primary"
                matBadgeOverlap="false"
                color="warn" 
                matSuffix 
                (click)="HideAuthKey = !HideAuthKey" class="cursor-pointer">{{HideAuthKey ? 'visibility_off' : 'visibility'}}
              </mat-icon>
              <!-- <mat-hint>32 Character Limit</mat-hint> -->
            </mat-form-field>
          </div>

          <div class="margin-top-4">
          <button
            mat-raised-button 
            color="accent" 
            class="mat-full-width" 
            (click)="Configure()" 
            [disabled]="!InfraForm.valid">
            Setup Organization Details
          </button>

          <button 
            mat-button 
            class="mat-full-width" 
            color="warn" 
            (click)="ChangeStep(SetupStepTypes['OrgDetails'])">
            Rename Organization
        </button>
        </div>
        </div>
      </form>
